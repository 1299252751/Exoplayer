<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico"><meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml"><meta name="theme-color" content="#ffffff"><!-- end favicons snippet -->
<title>SampleQueue (ExoPlayer library)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SampleQueue (ExoPlayer library)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/android/exoplayer2/source/ProgressiveMediaSource.Factory.html" title="class in com.google.android.exoplayer2.source"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.UpstreamFormatChangedListener.html" title="interface in com.google.android.exoplayer2.source"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/android/exoplayer2/source/SampleQueue.html" target="_top">Frames</a></li>
<li><a href="SampleQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.android.exoplayer2.source</div>
<h2 title="Class SampleQueue" class="title">Class SampleQueue</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://developer.android.com/reference/java/lang/Object.html" title="class or interface in java.lang" target="_top">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.google.android.exoplayer2.source.SampleQueue</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">SampleQueue</span>
extends <a href="https://developer.android.com/reference/java/lang/Object.html" title="class or interface in java.lang" target="_top">Object</a>
implements <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></pre>
<div class="block">A queue of media samples.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.UpstreamFormatChangedListener.html" title="interface in com.google.android.exoplayer2.source">SampleQueue.UpstreamFormatChangedListener</a></span></code>
<div class="block">A listener for changes to the upstream format.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.google.android.exoplayer2.extractor.TrackOutput">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.google.android.exoplayer2.extractor.<a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></h3>
<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.CryptoData.html" title="class in com.google.android.exoplayer2.extractor">TrackOutput.CryptoData</a>, <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.SampleDataPart.html" title="annotation in com.google.android.exoplayer2.extractor">TrackOutput.SampleDataPart</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.google.android.exoplayer2.extractor.TrackOutput">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.google.android.exoplayer2.extractor.<a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></h3>
<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#SAMPLE_DATA_PART_ENCRYPTION">SAMPLE_DATA_PART_ENCRYPTION</a>, <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#SAMPLE_DATA_PART_MAIN">SAMPLE_DATA_PART_MAIN</a>, <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#SAMPLE_DATA_PART_SUPPLEMENTAL">SAMPLE_DATA_PART_SUPPLEMENTAL</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#SampleQueue-com.google.android.exoplayer2.upstream.Allocator-android.os.Looper-com.google.android.exoplayer2.drm.DrmSessionManager-com.google.android.exoplayer2.drm.DrmSessionEventListener.EventDispatcher-">SampleQueue</a></span>(<a href="../../../../../com/google/android/exoplayer2/upstream/Allocator.html" title="interface in com.google.android.exoplayer2.upstream">Allocator</a>&nbsp;allocator,
           <a href="https://developer.android.com/reference/android/os/Looper.html" title="class or interface in android.os" target="_top">Looper</a>&nbsp;playbackLooper,
           <a href="../../../../../com/google/android/exoplayer2/drm/DrmSessionManager.html" title="interface in com.google.android.exoplayer2.drm">DrmSessionManager</a>&nbsp;drmSessionManager,
           <a href="../../../../../com/google/android/exoplayer2/drm/DrmSessionEventListener.EventDispatcher.html" title="class in com.google.android.exoplayer2.drm">DrmSessionEventListener.EventDispatcher</a>&nbsp;drmEventDispatcher)</code>
<div class="block">Creates a sample queue.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardSampleMetadataToRead--">discardSampleMetadataToRead</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardTo-long-boolean-boolean-">discardTo</a></span>(long&nbsp;timeUs,
         boolean&nbsp;toKeyframe,
         boolean&nbsp;stopAtReadPosition)</code>
<div class="block">Discards up to but not including the sample immediately before or at the specified time.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardToEnd--">discardToEnd</a></span>()</code>
<div class="block">Discards all samples in the queue and advances the read position.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardToRead--">discardToRead</a></span>()</code>
<div class="block">Discards up to but not including the read position.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardUpstreamFrom-long-">discardUpstreamFrom</a></span>(long&nbsp;timeUs)</code>
<div class="block">Discards samples from the write side of the queue.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardUpstreamSamples-int-">discardUpstreamSamples</a></span>(int&nbsp;discardFromIndex)</code>
<div class="block">Discards samples from the write side of the queue.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#format-com.google.android.exoplayer2.Format-">format</a></span>(<a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a>&nbsp;unadjustedUpstreamFormat)</code>
<div class="block">Called when the <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> of the track has been extracted from the stream.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getAdjustedUpstreamFormat-com.google.android.exoplayer2.Format-">getAdjustedUpstreamFormat</a></span>(<a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a>&nbsp;format)</code>
<div class="block">Adjusts the upstream <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> (i.e., the <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> that was most recently passed to
 <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#format-com.google.android.exoplayer2.Format-"><code>format(Format)</code></a>).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getFirstIndex--">getFirstIndex</a></span>()</code>
<div class="block">Returns the current absolute start index.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getFirstTimestampUs--">getFirstTimestampUs</a></span>()</code>
<div class="block">Returns the timestamp of the first sample, or <a href="https://developer.android.com/reference/java/lang/Long.html#MIN_VALUE" title="class or interface in java.lang" target="_top"><code>Long.MIN_VALUE</code></a> if the queue is empty.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getLargestQueuedTimestampUs--">getLargestQueuedTimestampUs</a></span>()</code>
<div class="block">Returns the largest sample timestamp that has been queued since the last <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset--"><code>reset()</code></a>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getLargestReadTimestampUs--">getLargestReadTimestampUs</a></span>()</code>
<div class="block">Returns the largest sample timestamp that has been read since the last <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset--"><code>reset()</code></a>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getReadIndex--">getReadIndex</a></span>()</code>
<div class="block">Returns the current absolute read index.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getSkipCount-long-boolean-">getSkipCount</a></span>(long&nbsp;timeUs,
            boolean&nbsp;allowEndOfQueue)</code>
<div class="block">Returns the number of samples that need to be <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#skip-int-"><code>skipped</code></a> to advance the read
 position to the keyframe before or at the specified time.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getUpstreamFormat--">getUpstreamFormat</a></span>()</code>
<div class="block">Returns the upstream <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> in which samples are being queued.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getWriteIndex--">getWriteIndex</a></span>()</code>
<div class="block">Returns the current absolute write index.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#invalidateUpstreamFormatAdjustment--">invalidateUpstreamFormatAdjustment</a></span>()</code>
<div class="block">Invalidates the last upstream format adjustment.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#isLastSampleQueued--">isLastSampleQueued</a></span>()</code>
<div class="block">Returns whether the last sample of the stream has knowingly been queued.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#isReady-boolean-">isReady</a></span>(boolean&nbsp;loadingFinished)</code>
<div class="block">Returns whether there is data available for reading.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#maybeThrowError--">maybeThrowError</a></span>()</code>
<div class="block">Throws an error that's preventing data from being read.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#peekSourceId--">peekSourceId</a></span>()</code>
<div class="block">Peeks the source id of the next sample to be read, or the current upstream source id if the
 queue is empty or if the read position is at the end of the queue.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#preRelease--">preRelease</a></span>()</code>
<div class="block">Calls <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardToEnd--"><code>discardToEnd()</code></a> and releases any resources owned by the queue.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#read-com.google.android.exoplayer2.FormatHolder-com.google.android.exoplayer2.decoder.DecoderInputBuffer-boolean-boolean-">read</a></span>(<a href="../../../../../com/google/android/exoplayer2/FormatHolder.html" title="class in com.google.android.exoplayer2">FormatHolder</a>&nbsp;formatHolder,
    <a href="../../../../../com/google/android/exoplayer2/decoder/DecoderInputBuffer.html" title="class in com.google.android.exoplayer2.decoder">DecoderInputBuffer</a>&nbsp;buffer,
    boolean&nbsp;formatRequired,
    boolean&nbsp;loadingFinished)</code>
<div class="block">Attempts to read from the queue.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#release--">release</a></span>()</code>
<div class="block">Calls <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset-boolean-"><code>reset(true)</code></a> and releases any resources owned by the queue.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset--">reset</a></span>()</code>
<div class="block">Convenience method for <code>reset(false)</code>.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset-boolean-">reset</a></span>(boolean&nbsp;resetUpstreamFormat)</code>
<div class="block">Clears all samples from the queue.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#sampleData-com.google.android.exoplayer2.upstream.DataReader-int-boolean-int-">sampleData</a></span>(<a href="../../../../../com/google/android/exoplayer2/upstream/DataReader.html" title="interface in com.google.android.exoplayer2.upstream">DataReader</a>&nbsp;input,
          int&nbsp;length,
          boolean&nbsp;allowEndOfInput,
          int&nbsp;sampleDataPart)</code>
<div class="block">Called to write sample data to the output.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#sampleData-com.google.android.exoplayer2.util.ParsableByteArray-int-int-">sampleData</a></span>(<a href="../../../../../com/google/android/exoplayer2/util/ParsableByteArray.html" title="class in com.google.android.exoplayer2.util">ParsableByteArray</a>&nbsp;buffer,
          int&nbsp;length,
          int&nbsp;sampleDataPart)</code>
<div class="block">Called to write sample data to the output.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#sampleMetadata-long-int-int-int-com.google.android.exoplayer2.extractor.TrackOutput.CryptoData-">sampleMetadata</a></span>(long&nbsp;timeUs,
              int&nbsp;flags,
              int&nbsp;size,
              int&nbsp;offset,
              <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.CryptoData.html" title="class in com.google.android.exoplayer2.extractor">TrackOutput.CryptoData</a>&nbsp;cryptoData)</code>
<div class="block">Called when metadata associated with a sample has been extracted from the stream.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#seekTo-int-">seekTo</a></span>(int&nbsp;sampleIndex)</code>
<div class="block">Attempts to seek the read position to the specified sample index.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#seekTo-long-boolean-">seekTo</a></span>(long&nbsp;timeUs,
      boolean&nbsp;allowTimeBeyondBuffer)</code>
<div class="block">Attempts to seek the read position to the keyframe before or at the specified time.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#setSampleOffsetUs-long-">setSampleOffsetUs</a></span>(long&nbsp;sampleOffsetUs)</code>
<div class="block">Sets an offset that will be added to the timestamps (and sub-sample timestamps) of samples that
 are subsequently queued.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#setStartTimeUs-long-">setStartTimeUs</a></span>(long&nbsp;startTimeUs)</code>
<div class="block">Sets the start time for the queue.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#setUpstreamFormatChangeListener-com.google.android.exoplayer2.source.SampleQueue.UpstreamFormatChangedListener-">setUpstreamFormatChangeListener</a></span>(<a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.UpstreamFormatChangedListener.html" title="interface in com.google.android.exoplayer2.source">SampleQueue.UpstreamFormatChangedListener</a>&nbsp;listener)</code>
<div class="block">Sets a listener to be notified of changes to the upstream format.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#skip-int-">skip</a></span>(int&nbsp;count)</code>
<div class="block">Advances the read position by the specified number of samples.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#sourceId-int-">sourceId</a></span>(int&nbsp;sourceId)</code>
<div class="block">Sets a source identifier for subsequent samples.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#splice--">splice</a></span>()</code>
<div class="block">Indicates samples that are subsequently queued should be spliced into those already queued.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://developer.android.com/reference/java/lang/Object.html" title="class or interface in java.lang" target="_top">Object</a></h3>
<code><a href="https://developer.android.com/reference/java/lang/Object.html#clone--" title="class or interface in java.lang">clone</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://developer.android.com/reference/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang" target="_top">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.google.android.exoplayer2.extractor.TrackOutput">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.google.android.exoplayer2.extractor.<a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></h3>
<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.upstream.DataReader-int-boolean-">sampleData</a>, <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.util.ParsableByteArray-int-">sampleData</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SampleQueue-com.google.android.exoplayer2.upstream.Allocator-android.os.Looper-com.google.android.exoplayer2.drm.DrmSessionManager-com.google.android.exoplayer2.drm.DrmSessionEventListener.EventDispatcher-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SampleQueue</h4>
<pre>public&nbsp;SampleQueue(<a href="../../../../../com/google/android/exoplayer2/upstream/Allocator.html" title="interface in com.google.android.exoplayer2.upstream">Allocator</a>&nbsp;allocator,
                   <a href="https://developer.android.com/reference/android/os/Looper.html" title="class or interface in android.os" target="_top">Looper</a>&nbsp;playbackLooper,
                   <a href="../../../../../com/google/android/exoplayer2/drm/DrmSessionManager.html" title="interface in com.google.android.exoplayer2.drm">DrmSessionManager</a>&nbsp;drmSessionManager,
                   <a href="../../../../../com/google/android/exoplayer2/drm/DrmSessionEventListener.EventDispatcher.html" title="class in com.google.android.exoplayer2.drm">DrmSessionEventListener.EventDispatcher</a>&nbsp;drmEventDispatcher)</pre>
<div class="block">Creates a sample queue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allocator</code> - An <a href="../../../../../com/google/android/exoplayer2/upstream/Allocator.html" title="interface in com.google.android.exoplayer2.upstream"><code>Allocator</code></a> from which allocations for sample data can be obtained.</dd>
<dd><code>playbackLooper</code> - The looper associated with the media playback thread.</dd>
<dd><code>drmSessionManager</code> - The <a href="../../../../../com/google/android/exoplayer2/drm/DrmSessionManager.html" title="interface in com.google.android.exoplayer2.drm"><code>DrmSessionManager</code></a> to obtain <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm"><code>DrmSessions</code></a>
     from. The created instance does not take ownership of this <a href="../../../../../com/google/android/exoplayer2/drm/DrmSessionManager.html" title="interface in com.google.android.exoplayer2.drm"><code>DrmSessionManager</code></a>.</dd>
<dd><code>drmEventDispatcher</code> - A <code>DrmSessionEventListener.EventDispatcher</code> to notify of events
     related to this SampleQueue.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="release--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>@CallSuper
public&nbsp;void&nbsp;release()</pre>
<div class="block">Calls <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset-boolean-"><code>reset(true)</code></a> and releases any resources owned by the queue.</div>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public final&nbsp;void&nbsp;reset()</pre>
<div class="block">Convenience method for <code>reset(false)</code>.</div>
</li>
</ul>
<a name="reset-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>@CallSuper
public&nbsp;void&nbsp;reset(boolean&nbsp;resetUpstreamFormat)</pre>
<div class="block">Clears all samples from the queue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resetUpstreamFormat</code> - Whether the upstream format should be cleared. If set to false,
     samples queued after the reset (and before a subsequent call to <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#format-com.google.android.exoplayer2.Format-"><code>format(Format)</code></a>)
     are assumed to have the current upstream format. If set to true, <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#format-com.google.android.exoplayer2.Format-"><code>format(Format)</code></a>
     must be called after the reset before any more samples can be queued.</dd>
</dl>
</li>
</ul>
<a name="setStartTimeUs-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStartTimeUs</h4>
<pre>public final&nbsp;void&nbsp;setStartTimeUs(long&nbsp;startTimeUs)</pre>
<div class="block">Sets the start time for the queue. Samples with earlier timestamps will be discarded or have
 the <a href="../../../../../com/google/android/exoplayer2/C.html#BUFFER_FLAG_DECODE_ONLY"><code>C.BUFFER_FLAG_DECODE_ONLY</code></a> flag set when read.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startTimeUs</code> - The start time, in microseconds.</dd>
</dl>
</li>
</ul>
<a name="sourceId-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sourceId</h4>
<pre>public final&nbsp;void&nbsp;sourceId(int&nbsp;sourceId)</pre>
<div class="block">Sets a source identifier for subsequent samples.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sourceId</code> - The source identifier.</dd>
</dl>
</li>
</ul>
<a name="splice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splice</h4>
<pre>public final&nbsp;void&nbsp;splice()</pre>
<div class="block">Indicates samples that are subsequently queued should be spliced into those already queued.</div>
</li>
</ul>
<a name="getWriteIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteIndex</h4>
<pre>public final&nbsp;int&nbsp;getWriteIndex()</pre>
<div class="block">Returns the current absolute write index.</div>
</li>
</ul>
<a name="discardUpstreamSamples-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardUpstreamSamples</h4>
<pre>public final&nbsp;void&nbsp;discardUpstreamSamples(int&nbsp;discardFromIndex)</pre>
<div class="block">Discards samples from the write side of the queue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>discardFromIndex</code> - The absolute index of the first sample to be discarded. Must be in the
     range [<a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getReadIndex--"><code>getReadIndex()</code></a>, <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getWriteIndex--"><code>getWriteIndex()</code></a>].</dd>
</dl>
</li>
</ul>
<a name="discardUpstreamFrom-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardUpstreamFrom</h4>
<pre>public final&nbsp;void&nbsp;discardUpstreamFrom(long&nbsp;timeUs)</pre>
<div class="block">Discards samples from the write side of the queue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeUs</code> - Samples will be discarded from the write end of the queue until a sample with a
     timestamp smaller than timeUs is encountered (this sample is not discarded). Must be larger
     than <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getLargestReadTimestampUs--"><code>getLargestReadTimestampUs()</code></a>.</dd>
</dl>
</li>
</ul>
<a name="preRelease--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preRelease</h4>
<pre>@CallSuper
public&nbsp;void&nbsp;preRelease()</pre>
<div class="block">Calls <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardToEnd--"><code>discardToEnd()</code></a> and releases any resources owned by the queue.</div>
</li>
</ul>
<a name="maybeThrowError--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeThrowError</h4>
<pre>@CallSuper
public&nbsp;void&nbsp;maybeThrowError()
                                throws <a href="https://developer.android.com/reference/java/io/IOException.html" title="class or interface in java.io" target="_top">IOException</a></pre>
<div class="block">Throws an error that's preventing data from being read. Does nothing if no such error exists.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://developer.android.com/reference/java/io/IOException.html" title="class or interface in java.io" target="_top">IOException</a></code> - The underlying error.</dd>
</dl>
</li>
</ul>
<a name="getFirstIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstIndex</h4>
<pre>public final&nbsp;int&nbsp;getFirstIndex()</pre>
<div class="block">Returns the current absolute start index.</div>
</li>
</ul>
<a name="getReadIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadIndex</h4>
<pre>public final&nbsp;int&nbsp;getReadIndex()</pre>
<div class="block">Returns the current absolute read index.</div>
</li>
</ul>
<a name="peekSourceId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peekSourceId</h4>
<pre>public final&nbsp;int&nbsp;peekSourceId()</pre>
<div class="block">Peeks the source id of the next sample to be read, or the current upstream source id if the
 queue is empty or if the read position is at the end of the queue.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The source id.</dd>
</dl>
</li>
</ul>
<a name="getUpstreamFormat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpstreamFormat</h4>
<pre>@Nullable
public final&nbsp;<a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a>&nbsp;getUpstreamFormat()</pre>
<div class="block">Returns the upstream <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> in which samples are being queued.</div>
</li>
</ul>
<a name="getLargestQueuedTimestampUs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLargestQueuedTimestampUs</h4>
<pre>public final&nbsp;long&nbsp;getLargestQueuedTimestampUs()</pre>
<div class="block">Returns the largest sample timestamp that has been queued since the last <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset--"><code>reset()</code></a>.

 <p>Samples that were discarded by calling <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardUpstreamSamples-int-"><code>discardUpstreamSamples(int)</code></a> are not
 considered as having been queued. Samples that were dequeued from the front of the queue are
 considered as having been queued.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The largest sample timestamp that has been queued, or <a href="https://developer.android.com/reference/java/lang/Long.html#MIN_VALUE" title="class or interface in java.lang" target="_top"><code>Long.MIN_VALUE</code></a> if no
     samples have been queued.</dd>
</dl>
</li>
</ul>
<a name="getLargestReadTimestampUs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLargestReadTimestampUs</h4>
<pre>public final&nbsp;long&nbsp;getLargestReadTimestampUs()</pre>
<div class="block">Returns the largest sample timestamp that has been read since the last <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#reset--"><code>reset()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The largest sample timestamp that has been read, or <a href="https://developer.android.com/reference/java/lang/Long.html#MIN_VALUE" title="class or interface in java.lang" target="_top"><code>Long.MIN_VALUE</code></a> if no
     samples have been read.</dd>
</dl>
</li>
</ul>
<a name="isLastSampleQueued--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLastSampleQueued</h4>
<pre>public final&nbsp;boolean&nbsp;isLastSampleQueued()</pre>
<div class="block">Returns whether the last sample of the stream has knowingly been queued. A return value of
 <code>false</code> means that the last sample had not been queued or that it's unknown whether the
 last sample has been queued.

 <p>Samples that were discarded by calling <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#discardUpstreamSamples-int-"><code>discardUpstreamSamples(int)</code></a> are not
 considered as having been queued. Samples that were dequeued from the front of the queue are
 considered as having been queued.</div>
</li>
</ul>
<a name="getFirstTimestampUs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstTimestampUs</h4>
<pre>public final&nbsp;long&nbsp;getFirstTimestampUs()</pre>
<div class="block">Returns the timestamp of the first sample, or <a href="https://developer.android.com/reference/java/lang/Long.html#MIN_VALUE" title="class or interface in java.lang" target="_top"><code>Long.MIN_VALUE</code></a> if the queue is empty.</div>
</li>
</ul>
<a name="isReady-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReady</h4>
<pre>@CallSuper
public&nbsp;boolean&nbsp;isReady(boolean&nbsp;loadingFinished)</pre>
<div class="block">Returns whether there is data available for reading.

 <p>Note: If the stream has ended then a buffer with the end of stream flag can always be read
 from <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#read-com.google.android.exoplayer2.FormatHolder-com.google.android.exoplayer2.decoder.DecoderInputBuffer-boolean-boolean-"><code>read(com.google.android.exoplayer2.FormatHolder, com.google.android.exoplayer2.decoder.DecoderInputBuffer, boolean, boolean)</code></a>. Hence an ended stream is always ready.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loadingFinished</code> - Whether no more samples will be written to the sample queue. When true,
     this method returns true if the sample queue is empty, because an empty sample queue means
     the end of stream has been reached. When false, this method returns false if the sample
     queue is empty.</dd>
</dl>
</li>
</ul>
<a name="read-com.google.android.exoplayer2.FormatHolder-com.google.android.exoplayer2.decoder.DecoderInputBuffer-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>@CallSuper
public&nbsp;int&nbsp;read(<a href="../../../../../com/google/android/exoplayer2/FormatHolder.html" title="class in com.google.android.exoplayer2">FormatHolder</a>&nbsp;formatHolder,
                           <a href="../../../../../com/google/android/exoplayer2/decoder/DecoderInputBuffer.html" title="class in com.google.android.exoplayer2.decoder">DecoderInputBuffer</a>&nbsp;buffer,
                           boolean&nbsp;formatRequired,
                           boolean&nbsp;loadingFinished)</pre>
<div class="block">Attempts to read from the queue.

 <p><a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Formats</code></a> read from this method may be associated to a <a href="../../../../../com/google/android/exoplayer2/drm/DrmSession.html" title="interface in com.google.android.exoplayer2.drm"><code>DrmSession</code></a>
 through <a href="../../../../../com/google/android/exoplayer2/FormatHolder.html#drmSession"><code>FormatHolder.drmSession</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>formatHolder</code> - A <a href="../../../../../com/google/android/exoplayer2/FormatHolder.html" title="class in com.google.android.exoplayer2"><code>FormatHolder</code></a> to populate in the case of reading a format.</dd>
<dd><code>buffer</code> - A <a href="../../../../../com/google/android/exoplayer2/decoder/DecoderInputBuffer.html" title="class in com.google.android.exoplayer2.decoder"><code>DecoderInputBuffer</code></a> to populate in the case of reading a sample or the
     end of the stream. If the end of the stream has been reached, the <a href="../../../../../com/google/android/exoplayer2/C.html#BUFFER_FLAG_END_OF_STREAM"><code>C.BUFFER_FLAG_END_OF_STREAM</code></a> flag will be set on the buffer. If a <a href="../../../../../com/google/android/exoplayer2/decoder/DecoderInputBuffer.html#isFlagsOnly--"><code>flags-only</code></a> buffer is passed, only the buffer flags may be
     populated by this method and the read position of the queue will not change.</dd>
<dd><code>formatRequired</code> - Whether the caller requires that the format of the stream be read even if
     it's not changing. A sample will never be read if set to true, however it is still possible
     for the end of stream or nothing to be read.</dd>
<dd><code>loadingFinished</code> - True if an empty queue should be considered the end of the stream.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The result, which can be <a href="../../../../../com/google/android/exoplayer2/C.html#RESULT_NOTHING_READ"><code>C.RESULT_NOTHING_READ</code></a>, <a href="../../../../../com/google/android/exoplayer2/C.html#RESULT_FORMAT_READ"><code>C.RESULT_FORMAT_READ</code></a> or
     <a href="../../../../../com/google/android/exoplayer2/C.html#RESULT_BUFFER_READ"><code>C.RESULT_BUFFER_READ</code></a>.</dd>
</dl>
</li>
</ul>
<a name="seekTo-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>seekTo</h4>
<pre>public final&nbsp;boolean&nbsp;seekTo(int&nbsp;sampleIndex)</pre>
<div class="block">Attempts to seek the read position to the specified sample index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sampleIndex</code> - The sample index.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether the seek was successful.</dd>
</dl>
</li>
</ul>
<a name="seekTo-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>seekTo</h4>
<pre>public final&nbsp;boolean&nbsp;seekTo(long&nbsp;timeUs,
                            boolean&nbsp;allowTimeBeyondBuffer)</pre>
<div class="block">Attempts to seek the read position to the keyframe before or at the specified time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeUs</code> - The time to seek to.</dd>
<dd><code>allowTimeBeyondBuffer</code> - Whether the operation can succeed if <code>timeUs</code> is beyond the
     end of the queue, by seeking to the last sample (or keyframe).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether the seek was successful.</dd>
</dl>
</li>
</ul>
<a name="getSkipCount-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSkipCount</h4>
<pre>public final&nbsp;int&nbsp;getSkipCount(long&nbsp;timeUs,
                              boolean&nbsp;allowEndOfQueue)</pre>
<div class="block">Returns the number of samples that need to be <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#skip-int-"><code>skipped</code></a> to advance the read
 position to the keyframe before or at the specified time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeUs</code> - The time to advance to.</dd>
<dd><code>allowEndOfQueue</code> - Whether the end of the queue is considered a keyframe when <code>timeUs</code> is larger than the largest queued timestamp.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of samples that need to be skipped, which may be equal to 0.</dd>
</dl>
</li>
</ul>
<a name="skip-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skip</h4>
<pre>public final&nbsp;void&nbsp;skip(int&nbsp;count)</pre>
<div class="block">Advances the read position by the specified number of samples.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>count</code> - The number of samples to advance the read position by. Must be at least 0 and at
     most <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getWriteIndex--"><code>getWriteIndex()</code></a> - <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getReadIndex--"><code>getReadIndex()</code></a>.</dd>
</dl>
</li>
</ul>
<a name="discardTo-long-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardTo</h4>
<pre>public final&nbsp;void&nbsp;discardTo(long&nbsp;timeUs,
                            boolean&nbsp;toKeyframe,
                            boolean&nbsp;stopAtReadPosition)</pre>
<div class="block">Discards up to but not including the sample immediately before or at the specified time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeUs</code> - The time to discard up to.</dd>
<dd><code>toKeyframe</code> - If true then discards samples up to the keyframe before or at the specified
     time, rather than any sample before or at that time.</dd>
<dd><code>stopAtReadPosition</code> - If true then samples are only discarded if they're before the read
     position. If false then samples at and beyond the read position may be discarded, in which
     case the read position is advanced to the first remaining sample.</dd>
</dl>
</li>
</ul>
<a name="discardToRead--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardToRead</h4>
<pre>public final&nbsp;void&nbsp;discardToRead()</pre>
<div class="block">Discards up to but not including the read position.</div>
</li>
</ul>
<a name="discardToEnd--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardToEnd</h4>
<pre>public final&nbsp;void&nbsp;discardToEnd()</pre>
<div class="block">Discards all samples in the queue and advances the read position.</div>
</li>
</ul>
<a name="setSampleOffsetUs-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSampleOffsetUs</h4>
<pre>public final&nbsp;void&nbsp;setSampleOffsetUs(long&nbsp;sampleOffsetUs)</pre>
<div class="block">Sets an offset that will be added to the timestamps (and sub-sample timestamps) of samples that
 are subsequently queued.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sampleOffsetUs</code> - The timestamp offset in microseconds.</dd>
</dl>
</li>
</ul>
<a name="setUpstreamFormatChangeListener-com.google.android.exoplayer2.source.SampleQueue.UpstreamFormatChangedListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUpstreamFormatChangeListener</h4>
<pre>public final&nbsp;void&nbsp;setUpstreamFormatChangeListener(@Nullable
                                                  <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.UpstreamFormatChangedListener.html" title="interface in com.google.android.exoplayer2.source">SampleQueue.UpstreamFormatChangedListener</a>&nbsp;listener)</pre>
<div class="block">Sets a listener to be notified of changes to the upstream format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The listener.</dd>
</dl>
</li>
</ul>
<a name="format-com.google.android.exoplayer2.Format-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>public final&nbsp;void&nbsp;format(<a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a>&nbsp;unadjustedUpstreamFormat)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#format-com.google.android.exoplayer2.Format-">TrackOutput</a></code></span></div>
<div class="block">Called when the <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> of the track has been extracted from the stream.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#format-com.google.android.exoplayer2.Format-">format</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>unadjustedUpstreamFormat</code> - The extracted <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a>.</dd>
</dl>
</li>
</ul>
<a name="sampleData-com.google.android.exoplayer2.upstream.DataReader-int-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sampleData</h4>
<pre>public final&nbsp;int&nbsp;sampleData(<a href="../../../../../com/google/android/exoplayer2/upstream/DataReader.html" title="interface in com.google.android.exoplayer2.upstream">DataReader</a>&nbsp;input,
                            int&nbsp;length,
                            boolean&nbsp;allowEndOfInput,
                            <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.SampleDataPart.html" title="annotation in com.google.android.exoplayer2.extractor">@TrackOutput.SampleDataPart</a>
                            int&nbsp;sampleDataPart)
                     throws <a href="https://developer.android.com/reference/java/io/IOException.html" title="class or interface in java.io" target="_top">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.upstream.DataReader-int-boolean-int-">TrackOutput</a></code></span></div>
<div class="block">Called to write sample data to the output.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.upstream.DataReader-int-boolean-int-">sampleData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - A <a href="../../../../../com/google/android/exoplayer2/upstream/DataReader.html" title="interface in com.google.android.exoplayer2.upstream"><code>DataReader</code></a> from which to read the sample data.</dd>
<dd><code>length</code> - The maximum length to read from the input.</dd>
<dd><code>allowEndOfInput</code> - True if encountering the end of the input having read no data is
     allowed, and should result in <a href="../../../../../com/google/android/exoplayer2/C.html#RESULT_END_OF_INPUT"><code>C.RESULT_END_OF_INPUT</code></a> being returned. False if it
     should be considered an error, causing an <a href="https://developer.android.com/reference/java/io/EOFException.html" title="class or interface in java.io" target="_top"><code>EOFException</code></a> to be thrown.</dd>
<dd><code>sampleDataPart</code> - The part of the sample data to which this call corresponds.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes appended.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://developer.android.com/reference/java/io/IOException.html" title="class or interface in java.io" target="_top">IOException</a></code> - If an error occurred reading from the input.</dd>
</dl>
</li>
</ul>
<a name="sampleData-com.google.android.exoplayer2.util.ParsableByteArray-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sampleData</h4>
<pre>public final&nbsp;void&nbsp;sampleData(<a href="../../../../../com/google/android/exoplayer2/util/ParsableByteArray.html" title="class in com.google.android.exoplayer2.util">ParsableByteArray</a>&nbsp;buffer,
                             int&nbsp;length,
                             <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.SampleDataPart.html" title="annotation in com.google.android.exoplayer2.extractor">@TrackOutput.SampleDataPart</a>
                             int&nbsp;sampleDataPart)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.util.ParsableByteArray-int-int-">TrackOutput</a></code></span></div>
<div class="block">Called to write sample data to the output.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.util.ParsableByteArray-int-int-">sampleData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buffer</code> - A <a href="../../../../../com/google/android/exoplayer2/util/ParsableByteArray.html" title="class in com.google.android.exoplayer2.util"><code>ParsableByteArray</code></a> from which to read the sample data.</dd>
<dd><code>length</code> - The number of bytes to read, starting from <code>data.getPosition()</code>.</dd>
<dd><code>sampleDataPart</code> - The part of the sample data to which this call corresponds.</dd>
</dl>
</li>
</ul>
<a name="sampleMetadata-long-int-int-int-com.google.android.exoplayer2.extractor.TrackOutput.CryptoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sampleMetadata</h4>
<pre>public&nbsp;void&nbsp;sampleMetadata(long&nbsp;timeUs,
                           <a href="../../../../../com/google/android/exoplayer2/C.BufferFlags.html" title="annotation in com.google.android.exoplayer2">@C.BufferFlags</a>
                           int&nbsp;flags,
                           int&nbsp;size,
                           int&nbsp;offset,
                           @Nullable
                           <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.CryptoData.html" title="class in com.google.android.exoplayer2.extractor">TrackOutput.CryptoData</a>&nbsp;cryptoData)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleMetadata-long-int-int-int-com.google.android.exoplayer2.extractor.TrackOutput.CryptoData-">TrackOutput</a></code></span></div>
<div class="block">Called when metadata associated with a sample has been extracted from the stream.

 <p>The corresponding sample data will have already been passed to the output via calls to
 <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.upstream.DataReader-int-boolean-"><code>TrackOutput.sampleData(DataReader, int, boolean)</code></a> or <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.util.ParsableByteArray-int-"><code>TrackOutput.sampleData(ParsableByteArray, int)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleMetadata-long-int-int-int-com.google.android.exoplayer2.extractor.TrackOutput.CryptoData-">sampleMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html" title="interface in com.google.android.exoplayer2.extractor">TrackOutput</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeUs</code> - The media timestamp associated with the sample, in microseconds.</dd>
<dd><code>flags</code> - Flags associated with the sample. See <code>C.BUFFER_FLAG_*</code>.</dd>
<dd><code>size</code> - The size of the sample data, in bytes.</dd>
<dd><code>offset</code> - The number of bytes that have been passed to <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.upstream.DataReader-int-boolean-"><code>TrackOutput.sampleData(DataReader, int,
     boolean)</code></a> or <a href="../../../../../com/google/android/exoplayer2/extractor/TrackOutput.html#sampleData-com.google.android.exoplayer2.util.ParsableByteArray-int-"><code>TrackOutput.sampleData(ParsableByteArray, int)</code></a> since the last byte belonging to
     the sample whose metadata is being passed.</dd>
<dd><code>cryptoData</code> - The encryption data required to decrypt the sample. May be null.</dd>
</dl>
</li>
</ul>
<a name="invalidateUpstreamFormatAdjustment--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateUpstreamFormatAdjustment</h4>
<pre>protected final&nbsp;void&nbsp;invalidateUpstreamFormatAdjustment()</pre>
<div class="block">Invalidates the last upstream format adjustment. <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#getAdjustedUpstreamFormat-com.google.android.exoplayer2.Format-"><code>getAdjustedUpstreamFormat(Format)</code></a>
 will be called to adjust the upstream <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> again before the next sample is queued.</div>
</li>
</ul>
<a name="getAdjustedUpstreamFormat-com.google.android.exoplayer2.Format-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAdjustedUpstreamFormat</h4>
<pre>@CallSuper
protected&nbsp;<a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a>&nbsp;getAdjustedUpstreamFormat(<a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2">Format</a>&nbsp;format)</pre>
<div class="block">Adjusts the upstream <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> (i.e., the <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> that was most recently passed to
 <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#format-com.google.android.exoplayer2.Format-"><code>format(Format)</code></a>).

 <p>The default implementation incorporates the sample offset passed to <a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.html#setSampleOffsetUs-long-"><code>setSampleOffsetUs(long)</code></a> into <a href="../../../../../com/google/android/exoplayer2/Format.html#subsampleOffsetUs"><code>Format.subsampleOffsetUs</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>format</code> - The <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a> to adjust.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The adjusted <a href="../../../../../com/google/android/exoplayer2/Format.html" title="class in com.google.android.exoplayer2"><code>Format</code></a>.</dd>
</dl>
</li>
</ul>
<a name="discardSampleMetadataToRead--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>discardSampleMetadataToRead</h4>
<pre>public&nbsp;long&nbsp;discardSampleMetadataToRead()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/android/exoplayer2/source/ProgressiveMediaSource.Factory.html" title="class in com.google.android.exoplayer2.source"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/google/android/exoplayer2/source/SampleQueue.UpstreamFormatChangedListener.html" title="interface in com.google.android.exoplayer2.source"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/android/exoplayer2/source/SampleQueue.html" target="_top">Frames</a></li>
<li><a href="SampleQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
